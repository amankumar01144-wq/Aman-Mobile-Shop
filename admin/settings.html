<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Settings</title>
    <meta name="theme-color" content="#1f2937">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="../assets/css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body class="bg-gray-50 min-h-screen pb-20">

    <header class="bg-gray-900 text-white p-4 sticky top-0 z-30 shadow-md flex justify-between items-center">
        <div class="flex items-center gap-3">
            <a href="dashboard.html" class="text-white"><i class="fas fa-arrow-left"></i></a>
            <h1 class="text-xl font-bold">App Settings</h1>
        </div>
    </header>

    <nav
        class="bg-white border-b border-gray-200 overflow-x-auto whitespace-nowrap p-2 sticky top-[60px] z-20 shadow-sm flex gap-2 no-scrollbar">
        <a href="dashboard.html"
            class="px-4 py-2 bg-gray-100 text-gray-700 rounded-full text-xs font-bold hover:bg-gray-200">
            <i class="fas fa-rocket mr-1"></i> Dashboard
        </a>
        <a href="products.html"
            class="px-4 py-2 bg-gray-100 text-gray-700 rounded-full text-xs font-bold hover:bg-gray-200">
            <i class="fas fa-box mr-1"></i> Products
        </a>
        <a href="orders.html"
            class="px-4 py-2 bg-gray-100 text-gray-700 rounded-full text-xs font-bold hover:bg-gray-200">
            <i class="fas fa-shopping-bag mr-1"></i> Orders
        </a>
        <a href="settings.html" class="px-4 py-2 bg-gray-900 text-white rounded-full text-xs font-bold shadow-md">
            <i class="fas fa-cog mr-1"></i> Settings
        </a>
    </nav>

    <main class="p-4 space-y-6">

        <!-- Home Banners Section -->
        <section class="bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden">
            <div class="p-4 border-b border-gray-100 flex justify-between items-center bg-gray-50">
                <h2 class="font-bold text-gray-800">Home Banners</h2>
                <button onclick="document.getElementById('banner-upload').click()"
                    class="bg-blue-600 text-white text-xs font-bold px-3 py-1.5 rounded-lg active:scale-95 transition-transform flex items-center gap-1">
                    <i class="fas fa-plus"></i> Add New
                </button>
                <input type="file" id="banner-upload" class="hidden" accept="image/*">
            </div>

            <div class="px-4 py-3 bg-gray-50 border-b border-gray-100 flex gap-2">
                <input type="url" id="banner-url-input" placeholder=" or paste image URL here..."
                    class="flex-1 bg-white border border-gray-200 rounded-lg px-3 py-2 text-xs focus:outline-none focus:border-blue-500 transition-colors">
                <button id="add-url-btn"
                    class="bg-gray-900 text-white text-xs font-bold px-3 py-2 rounded-lg active:scale-95 transition-transform whitespace-nowrap shadow-sm">
                    Add Link
                </button>
            </div>

            <div id="banners-list" class="divide-y divide-gray-100">
                <!-- Banner Items (Dynamic) -->
                <div class="p-8 text-center text-gray-400 text-sm">Loading banners...</div>
            </div>
        </section>

        <!-- General Configuration Section -->
        <section class="bg-white rounded-2xl shadow-sm border border-gray-100 p-4">
            <h2 class="font-bold text-gray-800 mb-4 border-b border-gray-100 pb-2">General Settings</h2>
            <form id="general-form" class="space-y-4">

                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label class="block text-xs font-bold text-gray-500 mb-1">Min Order (â‚¹)</label>
                        <input type="number" id="min-order" placeholder="150"
                            class="w-full bg-gray-50 border border-gray-200 rounded-xl px-4 py-3 text-sm focus:outline-none focus:border-blue-500 transition-colors">
                    </div>
                    <div>
                        <label class="block text-xs font-bold text-gray-500 mb-1">Points Rate</label>
                        <input type="number" step="0.01" id="points-rate" placeholder="0.02"
                            class="w-full bg-gray-50 border border-gray-200 rounded-xl px-4 py-3 text-sm focus:outline-none focus:border-blue-500 transition-colors">
                    </div>
                </div>

                <div class="flex items-center justify-between bg-gray-50 p-3 rounded-xl border border-gray-100">
                    <span class="text-sm font-bold text-gray-700">Show Offers on Home</span>
                    <label class="relative inline-flex items-center cursor-pointer">
                        <input type="checkbox" id="show-offers" class="sr-only peer">
                        <div
                            class="w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600">
                        </div>
                    </label>
                </div>

                <hr class="border-gray-100">

                <h3 class="font-bold text-gray-700 text-xs uppercase">Support Contact</h3>

                <div>
                    <label class="block text-xs font-bold text-gray-500 mb-1">Support Phone</label>
                    <input type="tel" id="support-phone" placeholder="9588185838"
                        class="w-full bg-gray-50 border border-gray-200 rounded-xl px-4 py-3 text-sm focus:outline-none focus:border-blue-500 transition-colors">
                </div>
                <div>
                    <label class="block text-xs font-bold text-gray-500 mb-1">WhatsApp Number</label>
                    <input type="tel" id="support-whatsapp" placeholder="9588185838"
                        class="w-full bg-gray-50 border border-gray-200 rounded-xl px-4 py-3 text-sm focus:outline-none focus:border-blue-500 transition-colors">
                </div>
                <div>
                    <label class="block text-xs font-bold text-gray-500 mb-1">Support Email</label>
                    <input type="email" id="support-email" placeholder="support@example.com"
                        class="w-full bg-gray-50 border border-gray-200 rounded-xl px-4 py-3 text-sm focus:outline-none focus:border-blue-500 transition-colors">
                </div>

                <button type="submit" id="save-general-btn"
                    class="w-full bg-gray-900 text-white font-bold py-3 rounded-xl shadow-lg shadow-gray-200 active:scale-95 transition-transform mt-4">
                    Save Config
                </button>
            </form>
        </section>

        <!-- Push Notifications Section -->
        <section class="bg-white rounded-2xl shadow-sm border border-gray-100 p-4">
            <h2 class="font-bold text-gray-800 mb-4 border-b border-gray-100 pb-2">Send Notification</h2>
            <form id="notification-form" class="space-y-4">
                <div>
                    <label class="block text-xs font-bold text-gray-500 mb-1">Title</label>
                    <input type="text" id="notif-title" placeholder="e.g. Mega Sale!" required
                        class="w-full bg-gray-50 border border-gray-200 rounded-xl px-4 py-3 text-sm focus:outline-none focus:border-blue-500 transition-colors">
                </div>
                <div>
                    <label class="block text-xs font-bold text-gray-500 mb-1">Message</label>
                    <textarea id="notif-message" rows="3" placeholder="e.g. 50% off on all shoes..." required
                        class="w-full bg-gray-50 border border-gray-200 rounded-xl px-4 py-3 text-sm focus:outline-none focus:border-blue-500 transition-colors"></textarea>
                </div>
                <div>
                    <label class="block text-xs font-bold text-gray-500 mb-1">Type</label>
                    <select id="notif-type"
                        class="w-full bg-gray-50 border border-gray-200 rounded-xl px-4 py-3 text-sm focus:outline-none focus:border-blue-500 transition-colors">
                        <option value="info">Info (Blue)</option>
                        <option value="success">Success (Green)</option>
                        <option value="error">Warning (Red)</option>
                    </select>
                </div>

                <button type="submit" id="send-notif-btn"
                    class="w-full bg-blue-600 text-white font-bold py-3 rounded-xl shadow-lg shadow-blue-200 active:scale-95 transition-transform mt-4">
                    <i class="fas fa-paper-plane mr-2"></i> Send to All
                </button>
            </form>

            <!-- History -->
            <div class="mt-6 border-t border-gray-100 pt-4">
                <h3 class="font-bold text-gray-700 text-xs uppercase mb-3">Recent Broadcasts</h3>
                <div id="notifications-list" class="space-y-2">
                    <p class="text-xs text-gray-400 text-center py-4">Loading history...</p>
                </div>
            </div>
        </section>

    </main>

    <script type="module" src="../assets/js/admin/admin-check.js"></script>
    <script type="module" src="../assets/js/admin/admin-settings.js"></script>
</body>

</html>